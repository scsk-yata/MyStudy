#include <Servo.h>  // Servoライブラリをインクルードして、PWMによるサーボ制御を簡単に

Servo myservo;  // Servo型のオブジェクト生成。これがサーボ制御の操作対象

void setup()
{
  myservo.attach(15); // GPIO15番ピンにサーボを接続。PWM制御が可能なピンを確認しておく

  myservo.write(0);   // サーボの角度を0度に設定（初期位置に戻す）
  delay(1000);        // 1秒待機して、サーボが0度の位置に到達するのを待つ
}

void loop()
{
  // サーボを0度から180度まで1度ずつ順番に動かすループ（正方向）
  for (int i = 0; i <= 180; i++)  // iを0から180まで1ずつ増やしながらループ
  {
    myservo.write(i); // 現在の角度iをサーボに送信して、その位置に動かす
    delay(15);        // 各ステップで15ミリ秒待機（サーボの動作を滑らかに）
  }

  // サーボを180度から0度まで1度ずつ戻すループ（逆方向）
  for (int i = 180; i >= 0; i--)  // iを180から0まで1ずつ減らしながらループ
  {
    myservo.write(i); // 現在の角度iをサーボに送信して、その位置に動かす
    delay(15);        // 各ステップで15ミリ秒待機（滑らかな逆転動作）
  }
}